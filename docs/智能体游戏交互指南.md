# 🎮 智能体游戏交互功能使用指南

## ✨ 新功能介绍

现在你可以在与妙妙老师的对话中直接玩游戏了！🎉

### 支持的功能
1. **启动游戏** - 在对话框中启动游戏会话
2. **获取链接** - 自动生成游戏访问链接
3. **结果反馈** - 游戏完成后告诉智能体，获得评价和奖励
4. **学习技巧** - 获取简便运算学习建议

---

## 🚀 如何使用

### 方式1: 启动游戏（推荐）

**你输入：**
```
开始游戏
```

**妙妙老师回复：**
```
🎉 太好了！我已经为你准备好了简单难度的游戏！

👉 游戏链接：http://localhost:8080/assets/math_game.html
🎮 游戏玩法：打开链接后，闯过3关简便运算挑战！

完成后记得告诉我你的得分和获得的星星数量！
```

**下一步：**
1. 点击链接打开游戏页面
2. 选择难度，开始玩
3. 完成后回到对话，告诉结果

---

### 方式2: 提交游戏结果

**你输入：**
```
我得了30分，获得了3颗星！
```

**妙妙老师回复：**
```
🏆 哇！我收到你的游戏结果了！

评价：完美通关！
你简直是简便运算小天才！三关全部满分通过！🌟🌟🌟 满星！

✨ 鼓励语：继续保持，你一定能成为数学高手！

💡 小建议：你已经是简便运算高手了，可以挑战更难的题目！
```

---

### 方式3: 查询学习技巧

**你输入：**
```
教我一些简便运算技巧！
```

**妙妙老师回复：**
```
✨ 这就把超实用的简便运算技巧打包送给你！

### 📚 基础技巧篇
1. 凑十法 🧩
   例子：7+8=7+3+5=10+5=15

2. 凑整法 🎯
   例子：47+33=(40+7)+(30+3)=70+10=80

...

要不要用新技巧做几道题试试呀？😉
```

---

## 📊 对话流程示例

### 完整流程：

**你：** 开始游戏！

**妙妙老师：**
🎉 太好了！我已经为你准备好了游戏！
👉 游戏链接：http://localhost:8080/assets/math_game.html
完成后告诉我你的得分！

*(你打开链接玩游戏，完成了3关)*

**你：** 我得了25分，获得了2颗星！

**妙妙老师：**
🥇 哇！收到你的结果了！
评价：优秀
你表现非常出色！🌟🌟
继续保持，你肯定能拿到满分！

**你：** 太棒了！再教我点技巧吧！

**妙妙老师：**
好的！让我教你拆分法...
*(详细讲解技巧)*

---

## 🎯 支持的命令

| 命令 | 功能 | 示例 |
|------|------|------|
| 开始游戏 / 玩游戏 / 游戏 | 启动游戏会话 | "开始游戏！" |
| 我得了XX分 / 获得了X颗星 | 提交游戏结果 | "我得了30分，3颗星" |
| 教我技巧 / 学习方法 | 获取学习建议 | "教我一些技巧" |
| 练习 / 出题 | 做练习题 | "我想做练习" |

---

## 💡 使用技巧

### 1. 游戏链接访问
- 如果你在本地运行：使用 `file://` 链接
- 如果启动了HTTP服务器：使用 `http://` 链接
- 链接可以在浏览器中多次打开

### 2. 结果提交流程
- 游戏完成后，回到对话窗口
- 直接说："我得了XX分，X颗星"
- 妙妙老师会自动识别并给出评价

### 3. 技巧学习
- 随时可以问："教我技巧"
- 可以指定难度："教我进阶技巧"
- 妙妙老师会提供生动的讲解和例子

---

## 🔧 技术细节

### 新增工具

1. **start_game_session**
   - 功能：创建游戏会话
   - 参数：difficulty（难度）
   - 返回：游戏链接和会话ID

2. **submit_game_result**
   - 功能：提交游戏结果
   - 参数：score（得分）、stars（星星数）、session_id（会话ID）
   - 返回：评价、鼓励语、学习建议

3. **get_game_tips**
   - 功能：获取学习技巧
   - 参数：topic（主题）
   - 返回：技巧列表和例子

### 交互流程

```
用户 → "开始游戏"
  ↓
智能体 → 调用 start_game_session
  ↓
智能体 → 返回游戏链接
  ↓
用户 → 在外部玩完游戏
  ↓
用户 → "我得了30分，3颗星"
  ↓
智能体 → 调用 submit_game_result
  ↓
智能体 → 返回评价和建议
```

---

## ❓ 常见问题

**Q: 游戏链接打不开怎么办？**
A: 确保游戏文件存在，或者启动HTTP服务器：
```bash
python -m http.server 8080
```

**Q: 可以不打开链接直接玩吗？**
A: 可以！说"在对话框里玩游戏"，妙妙老师会逐个出题给你做。

**Q: 可以玩多次吗？**
A: 当然可以！每次"开始游戏"都是新的游戏会话。

**Q: 结果会保存吗？**
A: 每次提交的结果都会被记录，妙妙老师会给出针对性的建议。

---

## 🎉 优势

1. **无缝集成** - 游戏和对话完美结合
2. **智能反馈** - 根据表现给出个性化建议
3. **学习追踪** - 记录每次游戏结果
4. **灵活选择** - 可选择在线游戏或文本模式
5. **趣味互动** - 表情符号、鼓励语增加趣味性

---

## 🚀 快速开始

```
第一步：说"开始游戏"
第二步：打开链接玩游戏
第三步：回来告诉结果
第四步：获得评价和建议
```

就这么简单！现在就开始吧！🎮✨
