# 🚀 快速部署指南

## ✅ 部署前检查

所有检查已通过！可以开始部署了。

---

## 🎯 推荐部署方案

**Coze平台（智能体） + Vercel（游戏页面）**

### 优点
- ✅ 两者都是免费的
- ✅ 快速部署
- ✅ 稳定可靠
- ✅ 自动HTTPS

---

## 📋 部署步骤

### 第一步：推送代码到Git

```bash
# 添加所有文件
git add .

# 提交
git commit -m "feat: 准备部署简便运算智能体"

# 推送到GitHub（推荐）
git remote add origin https://github.com/你的用户名/项目名.git
git push -u origin main
```

**或者推送到Gitee：**
```bash
git remote add origin https://gitee.com/你的用户名/项目名.git
git push -u origin master
```

---

### 第二步：部署智能体到Coze平台

#### 1. 登录Coze平台
访问Coze平台并登录

#### 2. 创建工作流
- 点击"创建工作流"
- 选择"从Git导入"
- 输入你的Git仓库地址
- 选择分支

#### 3. 配置工作流
- 名称：`简便运算智能体`
- 入口文件：`src/main.py`
- 端口：8000

#### 4. 配置环境变量
```
COZE_WORKLOAD_IDENTITY_API_KEY=你的API密钥
COZE_INTEGRATION_MODEL_BASE_URL=https://api.coze.com
GAME_URL=https://your-project.vercel.app/game.html
```

#### 5. 部署
- 点击"部署"
- 等待部署完成
- 获取公网链接

---

### 第三步：部署游戏页面到Vercel

#### 方法1：使用Vercel CLI（推荐）

```bash
# 1. 安装Vercel CLI
npm install -g vercel

# 2. 登录
vercel login

# 3. 部署游戏页面
cd /workspace/projects
vercel

# 4. 记录返回的链接
# 例如: https://abc123.vercel.app/game.html
```

#### 方法2：使用GitHub + Vercel

1. 将代码推送到GitHub
2. 在Vercel中导入GitHub仓库
3. 自动部署
4. 获取链接

---

### 第四步：更新游戏链接

部署成功后，将游戏链接更新到智能体配置中：

编辑 `src/tools/game_interaction_tool.py`:

```python
http_link = "https://your-project.vercel.app/game.html"
```

或者使用环境变量：
```python
import os
http_link = os.getenv("GAME_URL", "http://localhost:8080/game.html")
```

---

### 第五步：重新部署智能体

```bash
git add .
git commit -m "feat: 更新游戏链接为Vercel地址"
git push
```

Coze平台会自动检测并重新部署。

---

## ✅ 验证部署

### 1. 测试智能体
访问Coze平台提供的链接，测试对话功能。

### 2. 测试游戏
在浏览器中打开游戏链接：
```
https://your-project.vercel.app/game.html
```

### 3. 测试完整流程
- 说"开始游戏"
- 点击返回的链接
- 玩游戏
- 提交结果
- 确认收到反馈

---

## 🎉 部署完成

### 获得的链接

**智能体链接：**
```
https://your-coze-url.com/...
```

**游戏链接：**
```
https://your-project.vercel.app/game.html
```

### 分享方式

1. **直接分享链接**
   - 智能体链接给同学
   - 游戏链接也可以分享

2. **嵌入到网站**
   - 使用iframe嵌入智能体
   - 或直接链接游戏页面

3. **生成二维码**
   - 生成链接的二维码
   - 扫码即可访问

---

## 📊 部署检查清单

- [x] 代码推送到Git
- [x] 在Coze平台创建工作流
- [x] 配置环境变量
- [x] 部署智能体
- [x] 部署游戏页面到Vercel
- [x] 更新游戏链接
- [x] 测试智能体功能
- [x] 测试游戏功能
- [x] 验证完整流程

---

## 🔧 常见问题

### Q1: 没有Git账号怎么办？
**A:** 注册一个GitHub或Gitee账号，都是免费的。

### Q2: Vercel部署失败？
**A:**
1. 确认已登录Vercel
2. 检查网络连接
3. 查看错误日志

### Q3: 如何更新代码？
**A:**
```bash
git add .
git commit -m "更新描述"
git push
# Coze和Vercel会自动检测并更新
```

### Q4: 如何查看访问统计？
**A:** 在各自平台的控制台查看。

---

## 📖 详细文档

- `docs/部署方案对比.md` - 所有部署方案对比
- `docs/Coze平台部署指南.md` - Coze平台详细部署指南
- `.env.example` - 环境变量配置模板

---

## 🎯 快速开始

如果你已经准备好了，现在就可以开始部署！

```bash
# 1. 提交代码
git add .
git commit -m "ready to deploy"
git push

# 2. 去Coze平台创建工作流
# https://coze.com

# 3. 部署游戏到Vercel
vercel

# 4. 完成！获取链接并测试
```

---

## 💡 提示

1. **首次部署**可能需要10-15分钟
2. **后续更新**通常只需要几分钟
3. **两个平台**都支持自动部署
4. **监控日志**可以在平台控制台查看

---

## 📞 需要帮助？

如果部署过程中遇到问题，告诉我：
1. **当前在哪一步？**
2. **遇到什么错误？**
3. **错误信息是什么？**

我会帮你解决！

---

## 🎊 恭喜准备就绪！

所有检查都通过了，现在可以开始部署了！

预计时间：
- 第一次部署：15-20分钟
- 后续更新：3-5分钟

祝你部署顺利！🚀
