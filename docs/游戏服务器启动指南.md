# 🔧 游戏服务器启动指南

## ❌ 问题：点击链接时 localhost 拒绝连接

这是因为 **HTTP 服务器还没有启动**！

---

## ✅ 解决方法

### 方法1: 使用游戏专用服务器（推荐）

**步骤：**

1. **启动服务器**
   ```bash
   bash scripts/start_game_server.sh
   ```

2. **等待启动完成**
   ```
   🎮 启动简便运算游戏服务器
   ✅ 游戏文件已找到: assets/math_game.html
   🚀 正在启动HTTP服务器...
   📋 服务器信息:
      端口: 8080
      访问地址: http://localhost:8080/assets/math_game.html
   ```

3. **在浏览器中打开**
   - 点击: http://localhost:8080/assets/math_game.html
   - 或者: http://127.0.0.1:8080/assets/math_game.html

4. **开始玩游戏！** 🎮

---

### 方法2: 使用 Python 内置服务器

**步骤：**

1. **进入项目目录**
   ```bash
   cd /workspace/projects
   ```

2. **启动服务器**
   ```bash
   python -m http.server 8080
   ```

3. **在浏览器中打开**
   ```
   http://localhost:8080/assets/math_game.html
   ```

---

### 方法3: 直接打开文件（无需服务器）

**步骤：**

1. **找到游戏文件**
   ```
   路径: /workspace/projects/assets/math_game.html
   ```

2. **直接用浏览器打开**
   - Windows: 双击文件
   - Mac: 双击文件或右键→打开方式→选择浏览器
   - Linux: 双击文件或使用命令：
     ```bash
     xdg-open assets/math_game.html
     ```

---

## 🎯 服务器信息

### 当前运行的服务器

| 服务 | 端口 | 状态 | 访问地址 |
|------|------|------|---------|
| 游戏服务器 | 8080 | ✅ 运行中 | http://localhost:8080/assets/math_game.html |
| Agent服务器 | 8000 | ✅ 运行中 | http://localhost:8000 |

---

## 📝 启动服务器命令速查

```bash
# 游戏服务器（推荐）
bash scripts/start_game_server.sh

# 或使用Python内置服务器
python -m http.server 8080

# 或者指定目录
python -m http.server 8080 --directory assets
```

---

## 🔍 检查服务器是否运行

```bash
# 检查8080端口
lsof -i :8080

# 或使用curl测试
curl -I http://localhost:8080/assets/math_game.html
```

**预期输出：**
```
HTTP/1.0 200 OK
Server: SimpleHTTP/0.6 Python/3.12.3
Content-type: text/html
```

---

## 💡 智能体中的游戏链接

当你在智能体中说"开始游戏"时，会收到：

```
🎉 太好了！我已经为你准备好了简单难度的游戏！

👉 游戏链接：http://localhost:8080/assets/math_game.html
🎮 游戏玩法：打开链接后，闯过3关简便运算挑战！
```

**重要：** 请确保游戏服务器已经启动（端口8080）！

---

## 🚀 快速启动脚本

我已经为你创建了快速启动脚本：

### Windows
```batch
start_game_server.bat
```

### Linux/Mac
```bash
bash scripts/start_game_server.sh
```

---

## ⚠️ 常见问题

### Q1: 端口8080被占用怎么办？
**A:** 使用其他端口：
```bash
python -m http.server 9000
# 然后访问: http://localhost:9000/assets/math_game.html
```

### Q2: 服务器启动失败？
**A:** 检查文件是否存在：
```bash
ls -la assets/math_game.html
```

### Q3: 打开链接还是显示404？
**A:** 确保在正确的目录启动服务器：
```bash
cd /workspace/projects
python -m http.server 8080
```

### Q4: 可以在手机上访问吗？
**A:** 可以！如果手机和电脑在同一网络：
1. 查看电脑IP地址：`ipconfig` 或 `ifconfig`
2. 在手机浏览器中访问：`http://电脑IP:8080/assets/math_game.html`

---

## ✅ 现在试试吧！

1. **启动服务器**
   ```bash
   bash scripts/start_game_server.sh
   ```

2. **打开浏览器**
   访问: http://localhost:8080/assets/math_game.html

3. **开始玩游戏！** 🎮

---

## 📞 服务器控制

### 停止服务器
在运行服务器的终端按 `Ctrl + C`

### 重启服务器
```bash
# 先停止（Ctrl+C）
# 再启动
bash scripts/start_game_server.sh
```

### 后台运行
```bash
nohup bash scripts/start_game_server.sh > game_server.log 2>&1 &
```

---

🎮 现在游戏服务器已经启动，可以开始玩游戏了！
